<!DOCTYPE html>
<html lang="he" dir="rtl">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>גלריה של שירים ומנגינות - יובל שני , הצגות מבית הלוחם , ואופרת נפש צומת עד הלום , ערוץ יוטיוב , ועוד</title>
  <style>
    body { font-family: Arial, sans-serif; margin: 0; background: #f4f4f4; }

    /* גלריה: תמיד שתי תמונות בשורה */
    .gallery {
      display: grid;
      grid-template-columns: repeat(2, minmax(0, 1fr)); /* שתי עמודות תמיד */
      gap: 16px;
      padding: 16px;
      align-items: start;
    }

    .gallery-item { text-align: center; background: #fff; padding: 8px; border-radius: 10px; box-shadow: 0 2px 8px rgba(0,0,0,.06); }
    .gallery img { width: 100%; height: auto; cursor: pointer; border-radius: 8px; display: block; }
    .gallery .title { margin-top: 8px; font-size: 0.95rem; color: #222; }
    .gallery a.yt { display: inline-block; margin-top: 8px; color: #e62117; text-decoration: none; font-weight: 600; }

    /* אופציונלי: אם תרצה שגאב גדול יותר במסכים רחבים */
    @media (min-width: 1200px) {
      .gallery { gap: 20px; }
    }

    /* Lightbox */
    .lightbox { position: fixed; inset: 0; background: rgba(0,0,0,.92); display: none; align-items: center; justify-content: center; z-index: 1000; }
    .lightbox.show { display:flex; }
    .lb-inner { width: 100%; max-width: 1100px; padding: 16px; box-sizing: border-box; text-align: center; }
    .lb-img { max-width: 100%; max-height: 80vh; border-radius: 10px; touch-action: none; transition: transform .15s linear; }
    .lb-close { position: absolute; top: 14px; left: 14px; font-size: 26px; color: #fff; cursor: pointer; }
    .nav-left, .nav-right { position: absolute; top: 50%; transform: translateY(-50%); color: #fff; font-size: 32px; cursor: pointer; user-select:none; }
    .nav-left { left: 12px; }
    .nav-right { right: 12px; }

    @media (max-width: 420px) {
      /* במכשירים מאוד קטנים שקטין קצת המרווח כדי שהעמודה תהיה פחות דחוקה */
      .gallery { gap: 10px; padding: 10px; }
      .nav-left, .nav-right { font-size: 26px; }
    }
  </style>
</head>
<body>

    <header>
	
      <h1><center>יובל שני</center></h1>
      <h2><a href='https://www.youtube.com/@%D7%99%D7%95%D7%91%D7%9C%D7%A9%D7%A0%D7%99-%D7%A09%D7%A6'>ערוץ יוטיוב</a></h2>
      <h2><a href='https://ha-gesher.co.il/%D7%94%D7%A1%D7%99%D7%A4%D7%95%D7%A8-%D7%A9%D7%9C-%D7%99%D7%95%D7%91%D7%9C-%D7%A9%D7%A0%D7%99-%D7%90%D7%A0%D7%99-%D7%9E%D7%A2%D7%9C-25-%D7%A9%D7%A0%D7%94-%D7%9C%D7%90-%D7%99%D7%A9%D7%9F-%D7%91%D7%9C/#:~:text=%D7%9C%D7%A4%D7%A0%D7%99%20'>הסיפור שלי</a></h2>
      <h2><a href='page2.html'>הצגות בית הלוחם</a></h2>
      <h2><a href='page3.html'>אופרת נפש צומת עד הלו•ם</a></h2>
      <h2>תערוכה דיגיטלית שירים</h2
    </header>
    <p class="muted">15 שירים עם קישורים ליוטיוב לשמיעת המנגינה , לחץ על התמונה ובתחתית המסך יופיע לינק ליוטיוב</p>

  <div class="gallery" id="gallery"></div>

  <div class="lightbox" id="lightbox" role="dialog" aria-hidden="true">
    <div class="lb-close" id="lbClose">✕</div>
    <div class="nav-left" id="lbPrev">❮</div>
    <div class="lb-right" id="lbNext">❯</div>

    <div class="lb-inner">
      <img id="lbImg" class="lb-img" src="" alt="" />
      <div id="lbTitle" style="color:#fff;margin-top:8px;font-weight:600"></div>
      <a id="lbYoutube" class="yt" target="_blank" rel="noopener" style="display:none"></a>
    </div>
  </div>

  <script>
    // דוגמה לנתונים - החלף בנתונים שלך
	 const IMAGES = [
	  { src: 'hebimg/שיר 1 רסיסים.jpeg', title: 'רסיסים', youtube: 'https://www.youtube.com/watch?v=3Sdku7GWczM' },
	  { src: 'hebimg/שיר 2 נפרם.jpeg', title: 'נפרם', youtube: 'https://www.youtube.com/watch?v=6GmeCeR3O50' },
	  { src: 'hebimg/שיר 3 זכרונות.jpeg', title: 'זכרונות', youtube: 'https://www.youtube.com/watch?v=0j7W70j5TD8' },
	  { src: 'hebimg/שיר 4 פחם.jpeg', title: 'פחם', youtube: 'https://www.youtube.com/watch?v=Pzd4Cx8zlrI' },
	  { src: 'hebimg/שיר 5 לילות סוף דצמבר.jpeg', title: 'לילות סוף דצמבר', youtube: 'https://www.youtube.com/watch?v=DiWa8HPeQXw' },
	  { src: 'hebimg/שיר 6 פילוסופי.jpeg', title: 'פילוסופי', youtube: 'https://www.youtube.com/watch?v=rxJs23JhkJk' },
	  { src: 'hebimg/שיר 7 מטעני נפש.jpeg', title: 'מטעני נפש', youtube: 'https://www.youtube.com/watch?v=SqmP-RugiaA' },
	  { src: 'hebimg/שיר 8 געגוע.jpeg', title: 'געגוע', youtube: 'https://www.youtube.com/watch?v=AuBYHt3SVRQ' },
	  { src: 'hebimg/שיר 9 על הקצה.jpeg', title: 'על הקצה', youtube: 'https://www.youtube.com/watch?v=uBxgQCTZWiI' },
	  { src: 'hebimg/שיר 10 עיניים.jpeg', title: 'עיניים', youtube: 'https://www.youtube.com/watch?v=KcRHRN410pg' },
	  { src: 'hebimg/שיר 11 נפש אחת.jpeg', title: 'נפש אחת', youtube: 'https://www.youtube.com/watch?v=qZKBuhphuwM' },
	  { src: 'hebimg/שיר 12 היום אתה מלאך.jpeg', title: 'היום אתה מלאך', youtube: 'https://www.youtube.com/watch?v=kLQ-6d9eyng' },
	  { src: 'hebimg/שיר 13 שיחות נפש.jpeg', title: 'שיחות נפש', youtube: 'https://www.youtube.com/watch?v=ER0vo-Ut_xs' },
	  { src: 'hebimg/שיר 14 פוסט תמונה.jpeg', title: 'פוסט תמונה', youtube: 'https://www.youtube.com/watch?v=foM7Zdp0q70' },
	  { src: 'hebimg/שיר 15 נמר סגול.jpeg', title: 'נמר סגול', youtube: 'https://www.youtube.com/watch?v=j-k6BIihbHI' },
	 ];

    const gallery = document.getElementById('gallery');
    const lightbox = document.getElementById('lightbox');
    const lbImg = document.getElementById('lbImg');
    const lbTitle = document.getElementById('lbTitle');
    const lbYoutube = document.getElementById('lbYoutube');
    const lbClose = document.getElementById('lbClose');
    const lbPrev = document.getElementById('lbPrev');
    const lbNext = document.getElementById('lbNext');

    let currentIndex = 0;
    let pinchScale = 1; // מצב הזום הנוכחי
    let startDistance = 0;

    // יצירת הגלריה - שתי תמונות בכל שורה תמיד
    IMAGES.forEach((it, i) => {
      const el = document.createElement('div');
      el.className = 'gallery-item';
      el.innerHTML = `
        <img src="${it.src}" alt="${it.title}" data-index="${i}">
        <div class="title">${it.title || ''}</div>
        ${it.youtube ? `<a class="yt" href="${it.youtube}" target="_blank">🎵 צפה ביוטיוב</a>` : ''}
      `;
      gallery.appendChild(el);
    });

    // לחיצה על תמונה פותחת את ה-lightbox
    gallery.addEventListener('click', e => {
      const img = e.target.closest('img');
      if (!img) return;
      currentIndex = parseInt(img.dataset.index, 10);
      openLightbox(currentIndex);
    });

    function openLightbox(idx) {
      currentIndex = idx;
      const item = IMAGES[currentIndex];
      lbImg.src = item.src;
      lbTitle.textContent = item.title || '';
      if (item.youtube) { lbYoutube.href = item.youtube; lbYoutube.style.display = 'inline-block'; lbYoutube.textContent = '🎵 מעבר ליוטיוב'; }
      else { lbYoutube.style.display = 'none'; lbYoutube.href = '#'; lbYoutube.textContent = ''; }

      // איפוס זום
      pinchScale = 1; lbImg.style.transform = 'scale(1)';

      lightbox.classList.add('show');
      lightbox.setAttribute('aria-hidden', 'false');
      history.replaceState(null, '', '#view/' + currentIndex);

      // preload
      preload((currentIndex + 1) % IMAGES.length);
      preload((currentIndex - 1 + IMAGES.length) % IMAGES.length);
    }

    function closeLightbox() {
      lightbox.classList.remove('show');
      lightbox.setAttribute('aria-hidden', 'true');
      history.replaceState(null, '', location.pathname);
    }

    lbClose.addEventListener('click', closeLightbox);
    lbPrev.addEventListener('click', () => { navigate(-1); });
    lbNext.addEventListener('click', () => { navigate(1); });

    function navigate(dir) {
      currentIndex = (currentIndex + dir + IMAGES.length) % IMAGES.length;
      openLightbox(currentIndex);
    }

    // מקשים
    addEventListener('keydown', e => {
      if (!lightbox.classList.contains('show')) return;
      if (e.key === 'Escape') closeLightbox();
      if (e.key === 'ArrowRight') navigate(1);
      if (e.key === 'ArrowLeft') navigate(-1);
    });

    // מגע - pinch to zoom
    lbImg.addEventListener('touchstart', e => {
      if (e.touches.length === 2) {
        startDistance = getDistance(e.touches[0], e.touches[1]);
      }
    }, { passive: true });

    lbImg.addEventListener('touchmove', e => {
      if (e.touches.length === 2) {
        e.preventDefault();
        const d = getDistance(e.touches[0], e.touches[1]);
        const scale = d / startDistance;
        lbImg.style.transform = `scale(${Math.max(1, Math.min(4, pinchScale * scale))})`;
      }
    }, { passive: false });

    lbImg.addEventListener('touchend', e => {
      if (e.touches.length < 2) {
        // עדכון ה-scale לאחר סיום
        const m = lbImg.style.transform.match(/scale\(([^)]+)\)/);
        pinchScale = m ? parseFloat(m[1]) : 1;
        // גבולות
        pinchScale = Math.max(1, Math.min(4, pinchScale));
        lbImg.style.transform = `scale(${pinchScale})`;
      }
    });

    function getDistance(a, b) { return Math.hypot(a.clientX - b.clientX, a.clientY - b.clientY); }

    function preload(i) { const p = new Image(); p.src = IMAGES[i].src; }

    // טעינת hash בהתחלה
    window.addEventListener('load', () => {
      const m = location.hash.match(/#view\/(\d+)/);
      if (m) {
        const i = parseInt(m[1], 10);
        if (!isNaN(i) && IMAGES[i]) openLightbox(i);
      }
    });
  </script>
</body>
</html>
